---
title: "Generic and protocols"
date: 2025-04-17
tags: []
author: "ì´ì˜ë¯¼"
---
ë„¤! í•œêµ­ì–´ ìš”ì•½ê³¼ ì˜ì–´ ìš”ì•½ì„ ë”°ë¡œ êµ¬ë¶„í•´ì„œ, ë³´ê¸° ì‰½ê²Œ ì •ë¦¬í•´ë“œë¦´ê²Œìš”.  
ê° í•­ëª©ë³„ë¡œ ì½”ë“œ ë¸”ë¡ë„ í¬í•¨í•˜ê² ìŠµë‹ˆë‹¤.

---

# ğŸ‡°ğŸ‡· í•œêµ­ì–´ ìš”ì•½

---

## 1. Swiftì˜ Genericsì™€ associatedtype  
- Swiftì˜ `associatedtype`ì€ í”„ë¡œí† ì½œì—ì„œ íƒ€ì…ì„ ì¶”ìƒì ìœ¼ë¡œ ì§€ì •í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
- Javaì˜ ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì œë„¤ë¦­ íƒ€ì… íŒŒë¼ë¯¸í„°ì™€ ë¹„ìŠ·í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.

```swift
protocol Animal {
    associatedtype Feed
    func eat(_ food: Feed)
}
```
```java
interface Animal<Feed> {
    void eat(Feed food);
}
```

---

## 2. abstractì™€ì˜ ê´€ê³„  
- Swiftì—ëŠ” `abstract` í‚¤ì›Œë“œê°€ ì—†ìŠµë‹ˆë‹¤.
- í”„ë¡œí† ì½œì´ ì¶”ìƒ ë©”ì„œë“œ(êµ¬í˜„ ê°•ì œ) ì—­í• ì„ í•©ë‹ˆë‹¤.
- Javaì˜ abstract classëŠ” ì¼ë¶€ êµ¬í˜„ì„ ê³µìœ í•˜ê³ , í•˜ìœ„ í´ë˜ìŠ¤ê°€ ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë©”ì„œë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
abstract class Animal {
    abstract void eat();
}
```
```swift
protocol Animal {
    func eat()
}
```

---

## 3. Swift í”„ë¡œí† ì½œ vs Java ì¸í„°í˜ì´ìŠ¤  
- Swiftì˜ í”„ë¡œí† ì½œì€ Javaì˜ ì¸í„°í˜ì´ìŠ¤ì™€ ë§¤ìš° ìœ ì‚¬í•©ë‹ˆë‹¤.
- ë‘˜ ë‹¤ íƒ€ì…ì´ ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë©”ì„œë“œ(í˜¹ì€ í”„ë¡œí¼í‹°)ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

```swift
protocol Animal {
    func eat()
}
struct Cow: Animal {
    func eat() { print("ì†Œê°€ í’€ì„ ë¨¹ì–´ìš”") }
}
```
```java
interface Animal {
    void eat();
}
class Cow implements Animal {
    public void eat() { System.out.println("Cow eats grass"); }
}
```

---

## 4. interfaceì™€ abstract classì˜ ì°¨ì´  
| êµ¬ë¶„         | interface                | abstract class           |
|--------------|--------------------------|-------------------------|
| êµ¬í˜„ ë©”ì„œë“œ   | (Java 8+ default ê°€ëŠ¥)   | ê°€ëŠ¥                    |
| í•„ë“œ/ìƒíƒœ     | ìƒìˆ˜ë§Œ ê°€ëŠ¥              | ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ê°€ëŠ¥      |
| ìƒì„±ì        | ë¶ˆê°€                     | ê°€ëŠ¥                    |
| ë‹¤ì¤‘ ìƒì†     | ê°€ëŠ¥                     | ë¶ˆê°€                    |
| ìš©ë„          | ê³„ì•½/ê¸°ëŠ¥                | ê³µí†µ ì½”ë“œ/ìƒíƒœ ê³µìœ      |

---

## 5. ì½”ë“œì—ì„œì˜ ì ìš©  
- Swiftì˜ í”„ë¡œí† ì½œì€ Javaì˜ ì¸í„°í˜ì´ìŠ¤ì™€ ê°™ê³ ,
- í”„ë¡œí† ì½œì„ ì±„íƒí•œ struct/classëŠ” Javaì—ì„œ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” í´ë˜ìŠ¤ì™€ ê°™ìŠµë‹ˆë‹¤.
- ê³µí†µ êµ¬í˜„ì´ í•„ìš”í•˜ë‹¤ë©´, Swiftì—ì„œëŠ” base class + í”„ë¡œí† ì½œ ì¡°í•©ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
protocol AnimalFeed {}
struct Carrot: AnimalFeed {}
struct Hay: AnimalFeed {}

struct Horse: Animal {
    func eat(_ food: Carrot) { print("ë§ì´ ë‹¹ê·¼ì„ ë¨¹ì–´ìš”") }
    typealias Feed = Carrot
}
```
```java
interface AnimalFeed {}
class Carrot implements AnimalFeed {}
class Hay implements AnimalFeed {}

class Horse implements Animal<Carrot> {
    public void eat(Carrot food) { System.out.println("Horse eats carrot"); }
}
```

---

## 6. typealiasë€?  
- `typealias`ëŠ” ê¸°ì¡´ íƒ€ì…ì— ìƒˆë¡œìš´ ì´ë¦„ì„ ë¶™ì—¬ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.
- íŠ¹íˆ í”„ë¡œí† ì½œì˜ associatedtypeì„ êµ¬ì²´ì ìœ¼ë¡œ ì§€ì •í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```swift
typealias Kilometers = Int
let distance: Kilometers = 5 // Intì™€ ë™ì¼

struct Horse: Animal {
    func eat(_ food: Carrot) { ... }
    typealias Feed = Carrot // associatedtype ì§€ì •
}
```

---

## 7. Carrotì˜ íƒ€ì…  
- `Carrot`ì€ struct íƒ€ì…ì´ë©°, `AnimalFeed` í”„ë¡œí† ì½œì„ ì±„íƒí•©ë‹ˆë‹¤.
- íƒ€ì…ì€ `Carrot`ì…ë‹ˆë‹¤.

```swift
let carrot = Carrot() // carrotì˜ íƒ€ì…ì€ Carrot
```

---

# ğŸ‡ºğŸ‡¸ English Summary

---

## 1. Generics and associatedtype in Swift  
- Swiftâ€™s `associatedtype` is used in protocols to define a placeholder type.
- Itâ€™s similar to Javaâ€™s generic type parameter in interfaces.

```swift
protocol Animal {
    associatedtype Feed
    func eat(_ food: Feed)
}
```
```java
interface Animal<Feed> {
    void eat(Feed food);
}
```

---

## 2. Relation to abstract  
- Swift does not have the `abstract` keyword.
- Protocols in Swift enforce required methods, similar to abstract methods in Java.
- Javaâ€™s abstract class can share code and require subclasses to implement some methods.

```java
abstract class Animal {
    abstract void eat();
}
```
```swift
protocol Animal {
    func eat()
}
```

---

## 3. Swift Protocols vs Java Interfaces  
- Swift protocols are very similar to Java interfaces.
- Both define a set of requirements for types to implement.

```swift
protocol Animal {
    func eat()
}
struct Cow: Animal {
    func eat() { print("Cow eats grass") }
}
```
```java
interface Animal {
    void eat();
}
class Cow implements Animal {
    public void eat() { System.out.println("Cow eats grass"); }
}
```

---

## 4. Difference between interface and abstract class  
| Feature                | Interface                | Abstract Class           |
|------------------------|-------------------------|-------------------------|
| Methods with code      | Yes (default/static, Java 8+) | Yes                |
| Fields/State           | No (except constants)   | Yes                     |
| Constructors           | No                      | Yes                     |
| Multiple inheritance   | Yes                     | No                      |
| Use for                | Capability/contract     | Base class with shared code |

---

## 5. How this applies to your code  
- Swift protocols = Java interfaces.
- Structs/classes conforming to protocols = Classes implementing interfaces.
- For shared implementation, use a base class + protocol in Swift.

```swift
protocol AnimalFeed {}
struct Carrot: AnimalFeed {}
struct Hay: AnimalFeed {}

struct Horse: Animal {
    func eat(_ food: Carrot) { print("Horse eats carrot") }
    typealias Feed = Carrot
}
```
```java
interface AnimalFeed {}
class Carrot implements AnimalFeed {}
class Hay implements AnimalFeed {}

class Horse implements Animal<Carrot> {
    public void eat(Carrot food) { System.out.println("Horse eats carrot"); }
}
```

---

## 6. What is typealias?  
- `typealias` gives a new name to an existing type.
- Used to specify associatedtype concretely in protocol conformance.

```swift
typealias Kilometers = Int
let distance: Kilometers = 5 // Same as Int

struct Horse: Animal {
    func eat(_ food: Carrot) { ... }
    typealias Feed = Carrot // Specify associatedtype
}
```

---

## 7. Type of Carrot  
- `Carrot` is a struct in Swift, conforming to `AnimalFeed`.
- Its type is simply `Carrot`.

```swift
let carrot = Carrot() // The type of carrot is Carrot
```

---

í•„ìš”í•œ ë¶€ë¶„ ë” ìì„¸íˆ ì„¤ëª…í•´ë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤!  
If you need more details or examples, just let me know!
